<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular - Licenciatura en Turismo (En L√≠nea)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Montserrat:wght@400;600;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --fondo-malla: #F7F7F7;
      --bordes: #e0e0e0;
      --pre-grad: linear-gradient(180deg, #E0F7FA 50%, #80DEEA 100%);
      --pre-title: #008BA3;
      --basic1-grad: linear-gradient(180deg, #E8F5E9 50%, #A5D6A7 100%);
      --basic1-title: #1B5E20;
      --basic2-grad: linear-gradient(180deg, #FFF3E0 50%, #FFA726 100%);
      --basic2-title: #EF6C00;
      --basic3-grad: linear-gradient(180deg, #F3E5F5 50%, #CE93D8 100%);
      --basic3-title: #6A1B9A;
      --pro4-grad: linear-gradient(180deg, #FCE4EC 50%, #EC407A 100%);
      --pro4-title: #AD1457;
      --pro5-grad: linear-gradient(180deg, #FFFDE7 50%, #FFF59D 100%);
      --pro5-title: #FBC02D;
      --pro6-grad: linear-gradient(180deg, #FFEBEE 50%, #EF9A9A 100%);
      --pro6-title: #C62828;
      --pro7-grad: linear-gradient(180deg, #E8F5E9 50%, #A5D6A7 100%);
      --pro7-title: #1B5E20;
      --tit8-grad: linear-gradient(180deg, #E3F2FD 50%, #90CAF9 100%);
      --tit8-title: #0D47A1;
      --tit9-grad: linear-gradient(180deg, #FAFAFA 0%, #757575 70%);
      --tit9-title: #424242;
      --mod-ingles-grad: linear-gradient(180deg, #E0F7FA 50%, #00BCD4 100%);
      --mod-ingles-title: #006064;
      --mod-comp-grad: linear-gradient(180deg, #F3E5F5 50%, #CE93D8 100%);
      --mod-comp-title: #6A1B9A;
      --shadow: 0 2px 8px rgba(30,70,120,0.08);
      --lock: #BDBDBD;
    }
    html, body {
      background: var(--fondo-malla);
      font-family: 'Quicksand', 'Montserrat', sans-serif;
      margin: 0; padding: 0;
      color: #212121;
    }
    header {
      background: linear-gradient(90deg, #1ab4e8 0%, #B3E4F7 100%);
      padding: 2rem 2rem 1rem 2rem;
      text-align: center;
      border-radius: 0 0 2rem 2rem;
      box-shadow: var(--shadow);
    }
    header h1 {
      color: #01415c;
      font-family: 'Montserrat', sans-serif;
      font-weight: 900;
      margin-bottom: .3em;
      letter-spacing: 1px;
      font-size: 2.6rem;
    }
    header .desc {
      color: #2a414c; font-size: 1.3rem; margin-bottom: 1em;
      font-weight: 600;
    }
    .stats {
      display: flex;
      gap: 2em;
      justify-content: center;
      margin: 1rem 0 0 0;
      font-family: 'Montserrat', serif;
      font-size: 1.12rem;
      flex-wrap: wrap;
    }
    .stats .stat-block {
      background: #FFF;
      border-radius: 0.8em;
      box-shadow: var(--shadow);
      padding: 1.1em 2em;
      min-width: 135px;
      display: flex; flex-direction: column; align-items: center;
    }
    .stats .stat-block span:first-child {
      font-size: .95em; color: #6c757d;
    }
    .stats .stat-block strong {
      font-size: 2em;
      margin-top: 2px;
      color: #107dac;
      font-family: 'Montserrat', sans-serif;
    }
    main { margin: 2rem auto; max-width: 1600px; }
    .unit-section {
      margin-bottom: 4rem;
    }
    .unit-header {
      font-size: 2.1rem;
      font-weight: 800;
      margin-left: .1em;
      letter-spacing: .04em;
      margin-bottom: .12em;
      font-family: 'Montserrat', serif;
      display: flex; align-items: center; gap: .6em;
    }
    .columns-row {
      display: flex;
      gap: 1.5em;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 1.3em;
    }
    .semester-col, .module-col {
      display: flex;
      flex-direction: column;
      gap: .92em;
      align-items: center;
      background: #fff;
      min-width: 220px; max-width: 320px;
      border-radius: 1em;
      box-shadow: var(--shadow);
      padding: 1.2em 0 1.6em 0;
      position: relative;
      flex: 1 1 220px;
    }
    .semester-title, .module-title {
      padding: .25em 0 .45em 0;
      font-size: 1.4em;
      font-family: 'Montserrat', serif;
      text-align: center;
      font-weight: 700;
      letter-spacing: .02em;
      margin-bottom: 2px;
      border-radius: .5em;
      margin-top: .08em;
    }
    .pre {background: var(--pre-grad);}
    .pre-title{color: var(--pre-title);}
    .basic1{background: var(--basic1-grad);}
    .basic1-title{color: var(--basic1-title);}
    .basic2{background: var(--basic2-grad);}
    .basic2-title{color: var(--basic2-title);}
    .basic3{background: var(--basic3-grad);}
    .basic3-title{color: var(--basic3-title);}
    .pro4{background: var(--pro4-grad);}
    .pro4-title{color: var(--pro4-title);}
    .pro5{background: var(--pro5-grad);}
    .pro5-title{color: var(--pro5-title);}
    .pro6{background: var(--pro6-grad);}
    .pro6-title{color: var(--pro6-title);}
    .pro7{background: var(--pro7-grad);}
    .pro7-title{color: var(--pro7-title);}
    .tit8{background: var(--tit8-grad);}
    .tit8-title{color: var(--tit8-title);}
    .tit9{background: var(--tit9-grad);}
    .tit9-title{color: var(--tit9-title);}
    .mod-ingles{background: var(--mod-ingles-grad);}
    .mod-ingles-title{color: var(--mod-ingles-title);}
    .mod-comp{background: var(--mod-comp-grad);}
    .mod-comp-title{color: var(--mod-comp-title);}
    .course-card {
      background: #fff;
      border-radius: .9em;
      box-shadow: 0 2px 7px rgba(70,90,150,.06);
      padding: .9em 1.1em;
      display: flex; flex-direction: row; align-items: center; gap: .65em;
      position: relative;
      min-width: 180px;
      max-width: 95vw;
      font-size: 1.1em;
      cursor: pointer;
      border: 2.2px solid #e0e0e0;
      transition: box-shadow .18s, border .20s, background .16s;
      user-select: none;
      outline: none;
    }
    .course-card .icon {font-size: 1.8em; margin-right: .18em;}
    .course-card .name {font-weight: 600;}
    .course-card .credits {margin-left: auto; font-size: 1em; color: #3ab187; font-weight: 500;}
    .course-card:hover { box-shadow: 0 2px 16px rgba(47,100,220,0.09);}
    .course-card.approved {
      border: 2.2px solid #2ac675;
      background: linear-gradient(90deg, #f1fff1 30%, #e1ffe1 100%);
      color: #135d32 !important;
      opacity: 1;
      box-shadow: 0 2px 16px rgba(70,200,130,.10);
      text-decoration: none;
    }
    .course-card.locked {
      border: 2.2px dashed var(--lock);
      background: #f2f2f2;
      color: #a2a2a2;
      opacity: .70;
      pointer-events: none;
      cursor: default;
      filter: grayscale(.13);
      position: relative;
    }
    .course-card.locked::after {
      content: 'üîí';
      position: absolute;
      right: 10px; top: 8px;
      font-size: 1.5em;
      opacity: 0.7;
      pointer-events: none;
    }
    .course-card .tooltip {
      visibility: hidden;
      background: #2a4387;
      color: #fff;
      text-align: left;
      border-radius: 7px;
      padding: .8em 1.1em;
      position: absolute;
      z-index: 3;
      bottom: 115%;
      left: 12px;
      min-width: 230px;
      font-size: .96em;
      font-weight: 400;
      transition: .15s;
      opacity: 0;
      box-shadow: var(--shadow);
      pointer-events: none;
    }
    .course-card.locked:hover .tooltip,
    .course-card.locked:focus .tooltip {
      visibility: visible;
      opacity: .98;
    }
    @media (max-width:800px) {
      .columns-row { flex-direction: column; align-items: center; }
      .semester-col, .module-col { min-width: 95vw; max-width: 97vw; }
      main { padding:0 2vw; }
    }
    @media (max-width:430px) {
      .stats { gap: .6em; }
      .stats .stat-block { padding: .7em 1em; min-width: 95px; }
      header h1 { font-size: 1.3rem;}
      .unit-header {font-size:1.15rem;}
      .semester-title,.module-title {font-size:1.13em;}
    }
  </style>
</head>
<body>
  <header>
    <h1>LICENCIATURA EN TURISMO <span style="font-size:1.5em">üåê</span></h1>
    <div class="desc">Malla Curricular Interactiva ‚Äî Modalidad en L√≠nea</div>
    <div class="stats" id="stats"></div>
  </header>
  <main id="main-content"></main>
  <footer style="text-align:center;padding-top:2em;color:#8392ad;font-size:.95em;">
    &copy; <span id="foot-year"></span> ‚Äî Malla Din√°mica de Turismo
  </footer>
<script>
const DATA = {
  info:{
    carrera: 'LICENCIATURA EN TURISMO EN L√çNEA',
    materiasTotal: 57,
    modulosTotal: 9
  },
  unidades: [
    {
      nombre: "Unidad Preuniversitaria",
      icon:"üìò",
      clases: "pre-unit",
      semestres: [
        {
          nombre: "PRE",
          clases: "pre",
          titleClass: "pre-title",
          cursos: [
            {id:"epistem", nombre: "Epistemolog√≠a del Turismo", icon:"üß†", credits:0},
            {id:"introduc", nombre: "Introducci√≥n a la Comunicaci√≥n Acad√©mica", icon:"‚úçÔ∏è", credits:0},
            {id:"pc", nombre: "Pensamiento Computacional", icon:"üíª", credits:0}
          ]
        }
      ]
    },
    {
      nombre:"Unidad B√°sica",
      icon:"üåø",
      clases: "basic-unit",
      semestres: [
        {
          nombre:"1er Semestre",
          clases:"basic1",
          titleClass:"basic1-title",
          cursos:[
            {id:"matfin", nombre:"Matem√°tica Financiera", icon:"üí∞", credits:1.6666, deps:["pc"]},
            {id:"tecapp", nombre:"Tecnolog√≠a Aplicada", icon:"üõ†Ô∏è", credits:3.33, deps:["pc"]},
            {id:"teortur", nombre:"Teor√≠a Del Turismo", icon:"üìö", credits:3.33, deps:["epistem"]},
            {id:"adm", nombre:"Administraci√≥n", icon:"üìã", credits:3.33, deps:["introduc"]},
            {id:"metod", nombre:"Metodolog√≠a De La Investigaci√≥n Cient√≠fica", icon:"üî¨", credits:1.67, deps:["introduc"]},
            {id:"tecop", nombre:"T√©cnicas De Operaci√≥n Tur√≠stica", icon:"üß≥", credits:3.33, deps:["epistem"]},
          ]
        },
        {
          nombre:"2do Semestre",
          clases:"basic2",
          titleClass:"basic2-title",
          cursos:[
            {id:"cosmos", nombre:"Cosmos Hist√≥rico", icon:"üè∫", credits:3.33, deps:["teortur"]},
            {id:"bioent", nombre:"Bioentorno Tur√≠stico", icon:"üå±", credits:3.33, deps:["teortur"]},
            {id:"guiar", nombre:"T√©cnicas De Guiar", icon:"üó∫Ô∏è", credits:3.33, deps:["tecop"]},
            {id:"hosp", nombre:"Hospitalidad", icon:"ü§ù", credits:3.33, deps:["adm"]},
            {id:"estad", nombre:"Estad√≠stica Descriptiva Administrativa", icon:"üìä", credits:1.6666, deps:["matfin","tecapp"]},
            {id:"oral", nombre:"Comunicaci√≥n Oral Y Escrita", icon:"üó£Ô∏è", credits:1.67, deps:["metod"]},
          ]
        },
        {
          nombre:"3er Semestre",
          clases:"basic3",
          titleClass:"basic3-title",
          cursos:[
            {id:"comytur", nombre:"Comunidad Y Turismo", icon:"üèòÔ∏è", credits:1.6666, deps:["hosp"]},
            {id:"gastrpat", nombre:"Gastronom√≠a Ancestral Y Patrimonio", icon:"üç≤", credits:3.33, deps:["hosp"]},
            {id:"gop", nombre:"Gesti√≥n Operativa De √Åreas Protegidas", icon:"üèûÔ∏è", credits:3.33, deps:["guiar"]},
            {id:"mplast", nombre:"Manifestaciones Pl√°sticas Tur√≠sticas", icon:"üé®", credits:3.33, deps:["cosmos","oral"]},
            {id:"prospect", nombre:"Prospecci√≥n Intercultural Ecuatoriana", icon:"üåé", credits:1.6666, deps:["cosmos"]},
            {id:"contgen", nombre:"Contabilidad General", icon:"üìí", credits:3.33, deps:["estad"]},
          ]
        },
      ]
    },
    {
      nombre:"Unidad Profesional",
      icon:"üåº",
      clases:"pro-unit",
      semestres:[
        {
          nombre:"4to Semestre",
          clases:"pro4",
          titleClass:"pro4-title",
          cursos:[
            {id:"finzc", nombre:"Finanzas De Corto Plazo", icon:"üìà", credits:3.33, deps:["contgen"]},
            {id:"gestterr", nombre:"Gesti√≥n Territorial En Turismo", icon:"üèõÔ∏è", credits:3.33, deps:["gop","mplast"]},
            {id:"talenth", nombre:"Gesti√≥n Del Talento Humano Por Competencias", icon:"üë•", credits:2.5, deps:["contgen"]},
            {id:"folklore", nombre:"Folklore", icon:"üé≠", credits:1.6666, deps:["mplast","prospect"]},
            {id:"codit", nombre:"Codificaci√≥n Tur√≠stica", icon:"üß©", credits:3.33, deps:["gop"]},
            {id:"camping", nombre:"Campismo Y Recreaci√≥n Tur√≠stica", icon:"‚õ∫", credits:1.6666, deps:["gastrpat","comytur"]},
          ]
        },
        {
          nombre:"5to Semestre",
          clases:"pro5",
          titleClass:"pro5-title",
          cursos:[
            {id:"arqueo", nombre:"Arqueolog√≠a", icon:"üóø", credits:1.6666, deps:["folklore"]},
            {id:"microe", nombre:"Microeconom√≠a", icon:"üè¶", credits:3.33, deps:["finzc"]},
            {id:"iconog", nombre:"Iconograf√≠a Tur√≠stica", icon:"üñºÔ∏è", credits:1.6666, deps:["camping"]},
            {id:"optours", nombre:"Operaci√≥n De Tours", icon:"üöç", credits:3.33, deps:["codit","gestterr"]},
            {id:"fomreg", nombre:"Fomento Y Regulaciones A La Actividad Tur√≠stica", icon:"‚öñÔ∏è", credits:3.33, deps:["talenth"]},
            {id:"dtsos", nombre:"Desarrollo Del Turismo Sostenible", icon:"‚ôªÔ∏è", credits:5,
              deps:["matfin","tecapp","teortur","adm","metod","tecop",
                    "cosmos","bioent","guiar","hosp","estad","oral",
                    "comytur","gastrpat","gop","mplast","prospect","contgen","finzc",
                    "gestterr","talenth","folklore","codit","camping"]},
          ]
        },
        {
          nombre:"6to Semestre",
          clases:"pro6",
          titleClass:"pro6-title",
          cursos:[
            {id:"plantur", nombre:"Planificaci√≥n Tur√≠stica", icon:"üóìÔ∏è", credits:5,
              deps:["matfin","tecapp","teortur","adm","metod","tecop",
                "cosmos","bioent","guiar","hosp","estad","oral",
                "comytur","gastrpat","gop","mplast","prospect","contgen","finzc","gestterr","talenth","folklore","codit","camping",
                "arqueo","microe","iconog", "optours", "fomreg", "dtsos" ]},
            {id:"innov", nombre:"Gesti√≥n De La Innovaci√≥n Y Emprendimiento", icon:"üöÄ", credits:3.33, deps:["fomreg"]},
            {id:"animtur", nombre:"Animaci√≥n Tur√≠stica", icon:"üé¨", credits:3.33, deps:["iconog"]},
            {id:"riceevt", nombre:"Rice - Organizaci√≥n De Eventos", icon:"üìÖ", credits:1.6666, deps:["dtsos"]},
            {id:"sabream", nombre:"Sistemas De Registros Tur√≠sticos / Sabre Y Amadeus", icon:"üßæ", credits:1.6666, deps:["optours"]},
            {id:"macroe", nombre:"Macroeconom√≠a", icon:"üåê", credits:3.33, deps:["microe"]},
          ]
        },
        {
          nombre:"7mo Semestre",
          clases:"pro7",
          titleClass:"pro7-title",
          cursos:[
            {id:"patr", nombre:"Patrimonio", icon:"üèõÔ∏è", credits:5,
              deps:["plantur","innov","animtur","riceevt","sabream","macroe"]},
            {id:"gcprod", nombre:"Gesti√≥n De Calidad Y La Productividad", icon:"‚úÖ", credits:3.33, deps:["innov"]},
            {id:"opal", nombre:"Operaci√≥n De Alimentos Y Bebidas", icon:"üçΩÔ∏è", credits:1.6666, deps:["animtur"]},
            {id:"ophotel", nombre:"Operaci√≥n Hotelera", icon:"üè®", credits:3.33, deps:["sabream"]},
            {id:"socit", nombre:"Sociolog√≠a Del Turismo", icon:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶", credits:3.33, deps:["animtur"]},
            {id:"tendtur", nombre:"Tendencias Tur√≠sticas", icon:"üìà", credits:1.6666, deps:["macroe"]},
          ]
        },
      ]
    },
    {
      nombre:"Unidad de Titulaci√≥n",
      icon:"üéì",
      clases:"tit-unit",
      semestres: [
        {
          nombre:"8vo Semestre",
          clases:"tit8",
          titleClass:"tit8-title",
          cursos:[
            {id:"fep", nombre:"Formulaci√≥n Y Evaluaci√≥n De Proyectos", icon:"üìê", credits:3.33, deps:["gcprod"]},
            {id:"integr", nombre:"Integraci√≥n Regional Tur√≠stica", icon:"ü§ù", credits:5,
              deps:["patr","gcprod","opal","ophotel","socit","tendtur"]},
            {id:"estrateg", nombre:"Estrategias Comerciales Tur√≠sticas", icon:"üéØ", credits:3.33, deps:["tendtur"]},
            {id:"redtrab", nombre:"Redacci√≥n Del Trabajo De Titulaci√≥n", icon:"üìñ", credits:1.6666,
              deps:["patr","gcprod","opal","ophotel","socit","tendtur"]},
            {id:"aparte", nombre:"Apreciaci√≥n Del Arte Y La Cultura", icon:"üñåÔ∏è", credits:1.6666, deps:["patr"]},
            {id:"gobern", nombre:"Turismo Y Gobernanza", icon:"üèõÔ∏è", credits:3.33, deps:["opal","socit"]}
          ]
        },
        {
          nombre:"9no Semestre",
          clases:"tit9",
          titleClass:"tit9-title",
          cursos:[
            {id:"gidt", nombre:"Gesti√≥n Integral De Destinos Tur√≠sticos", icon:"üåü", credits:5, 
              deps:["fep","integr","estrateg","redtrab","aparte","gobern"]},
            {id:"negoc", nombre:"T√©cnicas De Negociaci√≥n Y Comunicaci√≥n Para El Turismo", icon:"ü§ùüó£Ô∏è", credits:3.3333, deps:["estrateg"]},
            {id:"realnat", nombre:"Realidad Nacional Y Geopol√≠tica", icon:"üåè", credits:1.67, deps:["gobern"]},
            {id:"trabtit", nombre:"Trabajo De Titulaci√≥n", icon:"üéì", credits:3.33, deps:["redtrab"]},
            {id:"contrat", nombre:"Contrataci√≥n P√∫blica", icon:"üìù", credits:3.33, deps:["fep"]},
            {id:"lider", nombre:"Liderazgo", icon:"üëë", credits:1.6666, deps:["aparte"]},
          ]
        }
      ]
    }
  ],
  modulos: [
    {
      unidad:"Ingl√©s",
      icon:"üìò",
      clases:"mod-ingles",
      titleClass:"mod-ingles-title",
      niveles: [
        {id:"ing-a1-0", nombre:"Nivel -A1", icon:"üî¥üèÜ", credits:2.08},
        {id:"ing-a1", nombre:"Nivel A1", icon:"üü†üèÜ", credits:2.08, deps:["ing-a1-0"]},
        {id:"ing-a2", nombre:"Nivel A2", icon:"üü°üèÜ", credits:2.08, deps:["ing-a1"]},
        {id:"ing-b1", nombre:"Nivel B1", icon:"üü¢üèÜ", credits:2.08, deps:["ing-a2"]},
        {id:"ing-b2", nombre:"Nivel B2", icon:"üîµüèÜ", credits:2.08, deps:["ing-b1"]},
        {id:"ing-c1", nombre:"Nivel C1", icon:"üü£üèÜ", credits:2.08, deps:["ing-b2"]},
        {id:"ing-c2", nombre:"Nivel C2", icon:"üü§üèÜ", credits:2.08, deps:["ing-c1"]},
      ]
    },
    {
      unidad:"Computaci√≥n",
      icon:"üíª",
      clases:"mod-comp",
      titleClass:"mod-comp-title",
      niveles:[
        {id:"comp1", nombre:"Windows ‚Äì Word ‚Äì Internet", icon:"ü™üüìÑüåê", credits:8},
        {id:"comp2", nombre:"Excel ‚Äì PowerPoint", icon:"üìäüìΩÔ∏è", credits:8, deps:["comp1"]},
      ]
    }
  ]
};
let cursosMap = {}
function buildCursosMap() {
  cursosMap = {};
  DATA.unidades.forEach(unit =>{unit.semestres.forEach(s=>s.cursos.forEach(c=>{cursosMap[c.id]=c;}))});
  DATA.modulos.forEach(mod=>{mod.niveles.forEach(c=>{cursosMap[c.id]=c})});
}
buildCursosMap();
function saveProgress() {localStorage.setItem('turismo_progress', JSON.stringify(state.aprobadas));}
function loadProgress() {try {let raw=localStorage.getItem('turismo_progress'); if(raw) return JSON.parse(raw);} catch(e) {} return {};}
const state = { aprobadas: loadProgress()||{} };
function tooltipDependencias(asig) {
  if (!asig.deps || !asig.deps.length) return "";
  let faltan = asig.deps.filter(d=>!state.aprobadas[d]);
  if (!faltan.length) return "";
  let lista = faltan.map(did=> (cursosMap[did]?.icon?"<b>"+cursosMap[did].icon+"</b> ":"") + (cursosMap[did]?.nombre||did) ).join("<br>");
  return `<div class="tooltip">Debes aprobar previamente:<br>${lista}</div>`;
}
function calcularStats() {
  let total=0, aprobadas=0, creditos=0, modulosTotal=0, modAprob=0, credMod=0, credMalla=0;
  DATA.unidades.forEach(unit=>{unit.semestres.forEach(sem=>{sem.cursos.forEach(asig=>{total++;if(state.aprobadas[asig.id]){aprobadas++;credMalla+=parseFloat(asig.credits)||0;}});});});
  DATA.modulos.forEach(mod=>{mod.niveles.forEach(nvl=>{modulosTotal++;if(state.aprobadas[nvl.id]){modAprob++;credMod+=parseFloat(nvl.credits)||0;}});});
  return {total, aprobadas, creditos: +(credMalla+credMod).toFixed(2), credMalla:+credMalla.toFixed(2), credMod:+credMod.toFixed(2),modulosTotal,modAprob}
}
function renderMalla() {
  let stats = calcularStats();
  document.getElementById("stats").innerHTML = `
    <div class="stat-block"><span>Materias Aprobadas</span><strong>${stats.aprobadas}</strong> / ${DATA.info.materiasTotal}</div>
    <div class="stat-block"><span>Cr√©ditos de Malla</span><strong>${stats.credMalla}</strong></div>
    <div class="stat-block"><span>M√≥dulos Aprobados</span><strong>${stats.modAprob}</strong> / ${DATA.info.modulosTotal}</div>
    <div class="stat-block"><span>Cr√©ditos de M√≥dulos</span><strong>${stats.credMod}</strong></div>
    <div class="stat-block"><span>Cr√©ditos Totales</span><strong>${stats.creditos}</strong></div>
  `;
  let main = document.getElementById("main-content");
  main.innerHTML = "";
  DATA.unidades.forEach(unit=>{
    let s = document.createElement("section");
    s.className="unit-section";
    s.innerHTML = `<div class="unit-header">${unit.icon||""} ${unit.nombre}</div>`;
    let row = document.createElement("div");
    row.className="columns-row";
    unit.semestres.forEach(sem=>{
      let col = document.createElement("div");
      col.className=`semester-col ${sem.clases}`;
      col.innerHTML = `<div class="semester-title ${sem.titleClass}">${sem.nombre}</div>`;
      sem.cursos.forEach(asig=>{
        let locked=false, faltan=[];
        if(asig.deps && asig.deps.length) {faltan = asig.deps.filter(d=>!state.aprobadas[d]);locked = faltan.length>0;}
        let card = document.createElement("div");
        card.tabIndex = locked?0:1;
        card.className="course-card"+(locked?" locked":"")+(state.aprobadas[asig.id]?" approved":"");
        card.setAttribute("data-id", asig.id);
        card.innerHTML = `<span class="icon">${asig.icon||""}</span>
          <span class="name">${asig.nombre}</span>
          <span class="credits">${asig.credits}cr</span>
          ${locked?tooltipDependencias(asig):""}`;
        if(!locked) {
          card.onclick=()=>{
            state.aprobadas[asig.id]=!state.aprobadas[asig.id];
            saveProgress(); renderMalla();
          }
        }
        col.appendChild(card);
      });
      row.appendChild(col);
    });
    s.appendChild(row);
    main.appendChild(s);
  });
  let modSec = document.createElement("section");
  modSec.className="unit-section";
  modSec.innerHTML = `<div class="unit-header">üß© M√≥dulos Complementarios</div>
    <div style="font-size:.97em; color:#55668b; margin-bottom:8px;">Aprobar para sumar cr√©ditos a tu r√©cord acad√©mico</div>`;
  let modRow = document.createElement("div");
  modRow.className="columns-row";
  DATA.modulos.forEach(mod=>{
    let col = document.createElement("div");
    col.className=`module-col ${mod.clases}`;
    col.innerHTML = `<div class="module-title ${mod.titleClass}">${mod.icon||""} ${mod.unidad}</div>`;
    mod.niveles.forEach(nvl=>{
      let locked=false,faltan=[];
      if(nvl.deps && nvl.deps.length) {
        faltan = nvl.deps.filter(d=>!state.aprobadas[nvl.id]);
        locked = faltan.length>0;
      }
      let card = document.createElement("div");
      card.tabIndex=locked?0:1;
      card.className="course-card"+(locked?" locked":"")+(state.aprobadas[nvl.id]?" approved":"");
      card.setAttribute("data-id", nvl.id);
      card.innerHTML = `<span class="icon">${nvl.icon||''}</span>
        <span class="name">${nvl.nombre}</span>
        <span class="credits" style="color:#1976d2;">${nvl.credits}cr</span>
        ${locked?tooltipDependencias(nvl):""}`;
      if(!locked) card.onclick=()=> {
        state.aprobadas[nvl.id]=!state.aprobadas[nvl.id];
        saveProgress(); renderMalla();
      }
      col.appendChild(card);
    });
    modRow.appendChild(col);
  });
  modSec.appendChild(modRow);
  main.appendChild(modSec);
}
window.onload=()=> {
  renderMalla();
  document.getElementById("foot-year").innerText = new Date().getFullYear();
};
</script>
</body>
</html>
